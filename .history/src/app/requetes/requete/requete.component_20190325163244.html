<div class="form-wrapper md-elevation-8 p-8">
<form #form="ngForm" (submit)="onSubmit(form)" enctype="multipart/form-data" autocomplete="off">
  <!-- <div class="title mt-4 mb-8"><h3>Ajouter une requete</h3></div>-->
  <input type="hidden" name="id" #id="ngModel" [(ngModel)]="service.formData.id">

  <div class="form-group">
    <label>Projet</label>
    <select name="projet_id" #projet_id="ngModel" [(ngModel)]="service.formData.projet_id" class="form-control">

      <option *ngFor="let emp1 of servicecategorie.list" value=" {{emp1.id}}">
        {{emp1.nom}}
      </option>
      <div class="validation-error" style="color: red" *ngIf="contenu.invalid && contenu.touched">Ce champ est requis.</div>
    </select>
  </div>
  <div class="form-group">
    <label>SLA concerner</label>
    <select name="sla_id" #sla_id="ngModel" [(ngModel)]="service.formData.sla_id" class="form-control col-9 ">

      <option *ngFor="let emp of categories.list" value=" {{emp.id}}">
        {{emp.intitule}}
      </option>
      <div class="validation-error" style="color: red" *ngIf="contenu.invalid && contenu.touched">Ce champ est requis.</div>
    </select>

    <div class="form-check form-check-inline">
        <label class="form-check-label" style="padding-right: 15px">
            <input class="form-check-input" type="checkbox" id="inlineCheckbox2"(click)="issla()" name="isSLA" #isSLA="ngModel" [(ngModel)]="service.formData.isSLA">
            <span class="checkbox-icon fuse-ripple-ready"></span>
            <span class="form-check-description">Autre</span>
        </label>

      </div>
  </div>

  <div  *ngIf="sla"class="form-group">
      <label>Titre</label>
    <input name="titre" #titre="ngModel" [(ngModel)]="service.formData.titre" class="form-control" required>
    <div class="validation-error" style="color: red" *ngIf="titre.invalid && titre.touched">Ce champ est requis.</div>
  </div>

  <div class="form-group">
      <label>Contenu</label>
      <input type="text" name="contenu" #contenu="ngModel" [(ngModel)]="service.formData.contenu" class="form-control" required>
      <div class="validation-error" style="color: red" *ngIf="contenu.invalid && contenu.touched">Ce champ est requis.</div>
    </div>

    <label class="image-upload-container btn btn-bwm">
      <span>Select Image</span>
      <input #imageInput
             type="file"
             multiple
             accept="image/*"
             >
             <input type="hidden" name="image" #image="ngModel" value="{{imageService.nom}}" [(ngModel)]="service.formData.image">

    </label>
    <div style="text-align: right">
        <button type="button" class="btn btn-secondary fuse-ripple-ready" data-dismiss="modal" v>Fermer</button>
        <button type="submit" [disabled]="form.invalid" class="btn btn-primary fuse-ripple-ready" onclick="$('.modal').modal('hide')"  (click)="processFile(imageInput)">Enregistrer </button>
    </div>
</form>
</div>
